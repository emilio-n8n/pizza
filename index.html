<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PizzaVoice AI - L'Agent Vocal pour votre Pizzeria</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- Navigation (Visible on all pages except maybe onboarding) -->
    <nav id="navbar">
        <div class="logo">
            <i class="fa-solid fa-pizza-slice"></i> PizzaVoice<span>AI</span>
        </div>
        <div class="nav-links">
            <button onclick="app.navigateTo('login')" class="btn-text">Connexion</button>
            <button onclick="app.navigateTo('signup')" class="btn-primary">Essayer Gratuitement</button>
        </div>
    </nav>

    <main id="app">
        <!-- 10. Page d'accueil -->
        <section id="home" class="view active">
            <div class="hero">
                <div class="hero-content">
                    <h1>Ne ratez plus aucune <span class="gradient-text">commande</span>.</h1>
                    <p>Votre agent IA r√©pond au t√©l√©phone, prend les commandes et les note directement dans votre
                        tableau de bord. 24/7.</p>
                    <div class="cta-group">
                        <button onclick="app.navigateTo('signup')" class="btn-primary btn-lg">Cr√©er mon agent <i
                                class="fa-solid fa-arrow-right"></i></button>
                        <button class="btn-secondary btn-lg"><i class="fa-solid fa-play"></i> √âcouter une d√©mo</button>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="phone-mockup call-screen">
                        <div class="call-header">
                            <div class="caller-name">PizzaVoice AI</div>
                            <div class="call-time">00:42</div>
                        </div>

                        <div class="call-actions">
                            <div class="action-btn">
                                <div class="icon-circle"><i class="fa-solid fa-microphone-slash"></i></div>
                                <span>silence</span>
                            </div>
                            <div class="action-btn">
                                <div class="icon-circle"><i class="fa-solid fa-grip"></i></div>
                                <span>clavier</span>
                            </div>
                            <div class="action-btn active">
                                <div class="icon-circle"><i class="fa-solid fa-volume-high"></i></div>
                                <span>haut-parleur</span>
                            </div>
                            <div class="action-btn">
                                <div class="icon-circle"><i class="fa-solid fa-plus"></i></div>
                                <span>nouvel appel</span>
                            </div>
                            <div class="action-btn">
                                <div class="icon-circle"><i class="fa-solid fa-video"></i></div>
                                <span>FaceTime</span>
                            </div>
                            <div class="action-btn">
                                <div class="icon-circle"><i class="fa-regular fa-circle-user"></i></div>
                                <span>contacts</span>
                            </div>
                        </div>

                        <div class="hangup-container">
                            <div class="hangup-btn"><i class="fa-solid fa-phone-slash"></i></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer id="footer">
                <div class="footer-content">
                    <div class="footer-section">
                        <div class="footer-logo">
                            <i class="fa-solid fa-pizza-slice"></i> PizzaVoice<span>AI</span>
                        </div>
                        <p class="footer-tagline">L'agent vocal intelligent pour votre pizzeria. Ne ratez plus jamais
                            une
                            commande.</p>
                        <div class="social-links">
                            <a href="#" aria-label="Twitter"><i class="fa-brands fa-twitter"></i></a>
                            <a href="#" aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
                            <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook"></i></a>
                            <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
                        </div>
                    </div>

                    <div class="footer-section">
                        <h4>Produit</h4>
                        <ul>
                            <li><a href="#">Fonctionnalit√©s</a></li>
                            <li><a href="#">Tarifs</a></li>
                            <li><a href="#">D√©mo</a></li>
                            <li><a href="#">FAQ</a></li>
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h4>Entreprise</h4>
                        <ul>
                            <li><a href="#">√Ä propos</a></li>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Carri√®res</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h4>Ressources</h4>
                        <ul>
                            <li><a href="#">Documentation</a></li>
                            <li><a href="#">Support</a></li>
                            <li><a href="#">Guides</a></li>
                            <li><a href="#">API</a></li>
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h4>L√©gal</h4>
                        <ul>
                            <li><a href="#">Confidentialit√©</a></li>
                            <li><a href="#">CGU</a></li>
                            <li><a href="#">Cookies</a></li>
                            <li><a href="#">Mentions l√©gales</a></li>
                        </ul>
                    </div>
                </div>

                <div class="footer-bottom">
                    <p>&copy; 2024 PizzaVoice AI. Tous droits r√©serv√©s.</p>
                </div>
            </footer>
        </section>

        <!-- 1. Inscription -->
        <section id="signup" class="view">
            <div class="auth-container">
                <h2>Commencez maintenant</h2>
                <p>Cr√©ez votre compte pour configurer votre agent.</p>
                <form onsubmit="app.handleSignup(event)">
                    <div class="input-group">
                        <label>Email</label>
                        <input type="email" required placeholder="contact@mapizzeria.com">
                    </div>
                    <div class="input-group">
                        <label>Mot de passe</label>
                        <input type="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="btn-primary btn-block">S'inscrire</button>
                </form>
                <p class="switch-auth">D√©j√† un compte ? <a href="#"
                        onclick="event.preventDefault(); app.navigateTo('login')">Se connecter</a>
                </p>
            </div>
        </section>

        <!-- 1b. Confirmation Email -->
        <section id="email-confirm" class="view">
            <div class="success-card">
                <div class="icon-pulse warning">
                    <i class="fa-solid fa-envelope"></i>
                </div>
                <h2>V√©rifiez votre bo√Æte mail</h2>
                <p>Nous vous avons envoy√© un email de confirmation √† l'adresse :</p>
                <p style="font-weight: 700; color: var(--primary);" id="confirm-email-display">email@example.com</p>

                <div class="info-box">
                    <p><i class="fa-solid fa-info-circle"></i> Cliquez sur le lien dans l'email pour activer votre
                        compte.</p>
                    <p style="font-size: 0.85rem; margin-top: 0.5rem;">Pensez √† v√©rifier vos spams si vous ne le voyez
                        pas.</p>
                </div>

                <button onclick="app.handleEmailConfirmed()" class="btn-primary btn-block mt-4">
                    <i class="fa-solid fa-check"></i> J'ai confirm√© l'email
                </button>
            </div>
        </section>

        <!-- 2. Saisie des informations (Onboarding) -->
        <section id="onboarding" class="view">
            <div class="wizard-container">
                <div class="progress-bar">
                    <div class="fill" style="width: 50%"></div>
                </div>
                <h2>Param√©trez votre Pizzeria</h2>
                <p>L'IA a besoin de ces infos pour r√©pondre aux clients.</p>
                <form onsubmit="app.handleOnboarding(event)">
                    <div class="input-group">
                        <label>Nom de la Pizzeria</label>
                        <input type="text" id="pizzeriaName" required placeholder="Ex: Chez Mario">
                    </div>
                    <div class="input-group">
                        <label>Adresse</label>
                        <input type="text" id="pizzeriaAddress" required placeholder="12 Rue de la Tomate, Paris">
                    </div>

                    <div class="input-group">
                        <label>Type de Cuisine</label>
                        <select id="pizzeriaCuisine">
                            <option>Italienne Classique</option>
                            <option>Am√©ricaine</option>
                            <option>Napolitaine</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label>Comment souhaitez-vous ajouter votre menu ?</label>
                        <div class="menu-source-tabs">
                            <button type="button" class="source-tab active" data-source="image">
                                üì∑ Photo du menu
                            </button>
                            <button type="button" class="source-tab" data-source="url">
                                üîó Lien vers votre site
                            </button>
                        </div>

                        <div id="image-source" class="source-panel active">
                            <input type="file" id="menuPhoto" accept="image/*" onchange="app.previewMenuPhoto(event)">
                            <div id="menuPhotoPreview" style="display: none; margin-top: 1rem;">
                                <img id="menuPhotoImg"
                                    style="max-width: 100%; border-radius: 8px; margin-bottom: 1rem;">
                            </div>
                        </div>

                        <div id="url-source" class="source-panel" style="display: none;">
                            <input type="url" id="menuUrlInput" placeholder="https://votre-site.com/menu">
                            <p class="help-text">Collez le lien direct vers votre page menu</p>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary btn-block">Cr√©er mon Agent</button>
                </form>
            </div>
        </section>

        <!-- 2b. Configuration Transfert d'Appel -->
        </section>

        <!-- Menu Editor Modal -->
        <div id="menu-editor-modal" class="modal" style="display: none;">
            <div class="modal-content menu-editor-content">
                <div class="modal-header">
                    <h2><i class="fa-solid fa-wand-magic-sparkles"></i> V√©rifiez votre menu</h2>
                    <p>L'IA a analys√© votre menu. V√©rifiez et corrigez si n√©cessaire.</p>
                </div>

                <div class="menu-editor-body">
                    <div class="menu-editor-toolbar">
                        <button onclick="app.addMenuItem()" class="btn-add-item">
                            <i class="fa-solid fa-plus"></i> Ajouter un produit
                        </button>
                        <div class="menu-stats">
                            <span id="menu-items-count">0 produits</span>
                        </div>
                    </div>

                    <div class="menu-items-table-container">
                        <table class="menu-items-table">
                            <thead>
                                <tr>
                                    <th>Cat√©gorie</th>
                                    <th>Nom</th>
                                    <th>Description</th>
                                    <th>Prix (‚Ç¨)</th>
                                    <th>Taille</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="menu-items-tbody">
                                <!-- Items will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="modal-footer">
                    <button onclick="app.cancelMenuEditor()" class="btn-secondary">
                        Annuler
                    </button>
                    <button onclick="app.saveMenuAndContinue()" class="btn-primary">
                        <i class="fa-solid fa-check"></i> Valider le menu
                    </button>
                </div>
            </div>
        </div>

        <!-- 2b. Configuration Transfert d'Appel -->
        <section id="call-forwarding" class="view">
            <div class="call-forwarding-container">
                <div class="call-forwarding-card">
                    <div class="card-header">
                        <div class="icon-pulse-large">
                            <i class="fa-solid fa-phone-volume"></i>
                        </div>
                        <h2>Activez votre Agent</h2>
                        <p>Une derni√®re √©tape simple pour connecter votre pizzeria.</p>
                    </div>

                    <div class="step-box">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <p class="step-title">Testez votre agent</p>
                            <p class="step-desc">Appelez ce num√©ro pour simuler une commande client et v√©rifier que tout
                                fonctionne.</p>
                        </div>
                    </div>

                    <div class="number-display-premium" onclick="app.copyToClipboard('0189713356')">
                        <span class="number-text">01 89 71 33 56</span>
                        <button class="btn-copy"><i class="fa-regular fa-copy"></i></button>
                    </div>
                    <p class="text-center text-muted text-sm mb-4">(Num√©ro de test de votre agent)</p>

                    <div class="step-box">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <p class="step-title">Activez le transfert d'appel</p>
                            <p class="step-desc"><strong>Satisfait du test ?</strong> Pour que vos vrais clients tombent
                                sur l'agent, composez le code ci-dessous depuis le t√©l√©phone de la pizzeria.</p>
                        </div>
                    </div>

                    <div class="operator-codes-section">
                        <p class="mb-3 text-muted">Choisissez votre op√©rateur :</p>
                        <div id="operator-codes" class="operator-codes">
                            <div class="operator-item">
                                <span class="operator-name">Orange / Sosh</span>
                                <code class="code-snippet">**21*0189713356#</code>
                            </div>
                            <div class="operator-item">
                                <span class="operator-name">SFR / Red</span>
                                <code class="code-snippet">*21*0189713356#</code>
                            </div>
                            <div class="operator-item">
                                <span class="operator-name">Bouygues</span>
                                <code class="code-snippet">*61*0189713356#</code>
                            </div>
                            <div class="operator-item">
                                <span class="operator-name">Free</span>
                                <code class="code-snippet">*21*0189713356#</code>
                            </div>
                            <p class="text-xs text-muted mt-2">Appuyez sur la touche appel apr√®s avoir compos√© le code.
                            </p>
                        </div>
                    </div>

                    <button onclick="app.navigateTo('dashboard')" class="btn-primary btn-block btn-lg mt-4">
                        Tout est configur√©, acc√©der au Dashboard <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- 3. Confirmation (Attente validation) -->
        <section id="confirmation" class="view">
            <div class="success-card">
                <div class="icon-pulse warning">
                    <i class="fa-solid fa-clock"></i>
                </div>
                <h2>Demande re√ßue !</h2>
                <p>Nos experts vont maintenant configurer votre agent vocal manuellement.</p>
                <div class="info-box">
                    <p><i class="fa-solid fa-info-circle"></i> Cela prend g√©n√©ralement 24h.</p>
                    <p>Vous recevrez un email d√®s que votre num√©ro est actif.</p>
                </div>
                <button onclick="app.navigateTo('home')" class="btn-secondary mt-4">Retour √† l'accueil</button>
            </div>
        </section>

        <!-- ADMIN: Login -->
        <section id="admin-login" class="view">
            <div class="auth-container">
                <h2>Administration</h2>
                <p>Acc√®s r√©serv√© √† l'√©quipe PizzaVoice.</p>
                <form onsubmit="app.handleAdminLogin(event)">
                    <div class="input-group">
                        <label>Identifiant</label>
                        <input type="text" name="adminId" required>
                    </div>
                    <div class="input-group">
                        <label>Mot de passe</label>
                        <input type="password" name="adminPass" required>
                    </div>
                    <button type="submit" class="btn-primary btn-block">Connexion Admin</button>
                </form>
            </div>
        </section>

        <!-- ADMIN: Dashboard -->
        <section id="admin-dashboard" class="view">
            <div class="admin-layout">
                <header>
                    <h2><i class="fa-solid fa-user-shield"></i> Back-office</h2>
                    <button onclick="app.navigateTo('home')" class="btn-small">D√©connexion</button>
                </header>

                <div class="admin-stats">
                    <div class="stat-card">
                        <h3>En attente</h3>
                        <div class="value" id="admin-pending-count">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Actifs</h3>
                        <div class="value" id="admin-active-count">0</div>
                    </div>
                </div>

                <h3>Demandes en attente</h3>
                <div class="pizzeria-list" id="admin-pizzeria-list">
                    <!-- Populated by JS -->
                    <div class="empty-state">Aucune demande en attente.</div>
                </div>
            </div>
        </section>

        <!-- ADMIN: Pizzeria Detail Modal -->
        <div id="pizzeria-detail-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="modal-close" onclick="app.closePizzeriaDetail()">&times;</span>
                <h2 id="modal-pizzeria-name">D√©tails Pizzeria</h2>

                <div class="modal-section">
                    <h3>Informations</h3>
                    <p><strong>ID Pizzeria:</strong> <span id="modal-id"
                            style="font-family: monospace; background: #2a2a2a; padding: 0.25rem 0.5rem; border-radius: 4px;"></span>
                    </p>
                    <p><strong>Email:</strong> <span id="modal-email"></span></p>
                    <p><strong>T√©l√©phone:</strong> <span id="modal-phone"></span></p>
                    <p><strong>Adresse:</strong> <span id="modal-address"></span></p>
                    <p><strong>Inscrit le:</strong> <span id="modal-created"></span></p>
                </div>

                <div class="modal-section" id="modal-menu-photo-section" style="display: none;">
                    <h3>Photo du Menu</h3>
                    <img id="modal-menu-photo" src="" alt="Menu"
                        style="width: 100%; border-radius: 8px; margin-top: 0.5rem; cursor: pointer;"
                        onclick="window.open(this.src, '_blank')">
                    <p style="font-size: 0.8rem; color: #aaa; margin-top: 0.5rem;">Cliquez sur l'image pour voir en
                        taille r√©elle</p>
                </div>

                <div class="modal-actions">
                    <button onclick="app.activatePizzeriaFromModal()" class="btn-primary">
                        <i class="fa-solid fa-check"></i> Activer
                    </button>
                    <button onclick="app.closePizzeriaDetail()" class="btn-secondary">Fermer</button>
                </div>
            </div>
        </div>
        </section>

        <!-- 6. Connexion -->
        <section id="login" class="view">
            <div class="auth-container">
                <h2>Bon retour !</h2>
                <p>Connectez-vous pour voir vos commandes.</p>
                <form onsubmit="app.handleLogin(event)">
                    <div class="input-group">
                        <label>Email</label>
                        <input type="email" required placeholder="contact@mapizzeria.com">
                    </div>
                    <div class="input-group">
                        <label>Mot de passe</label>
                        <input type="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="btn-primary btn-block">Se connecter</button>
                </form>
                <p class="switch-auth">Vous n'avez pas de compte ? <a href="#"
                        onclick="event.preventDefault(); app.navigateTo('signup')">Cr√©ez en un !</a>
                </p>
            </div>
        </section>

        <!-- 7. Tableau de bord -->
        <section id="dashboard" class="view">
            <div class="dashboard-layout dark-theme">
                <aside class="sidebar-dark">
                    <div class="logo-small"><i class="fa-solid fa-pizza-slice"></i></div>
                    <ul class="menu">
                        <li class="active" onclick="app.switchDashboardTab('orders')" id="menu-orders">
                            <i class="fa-solid fa-list"></i> Commandes
                        </li>
                        <li onclick="app.switchDashboardTab('stats')" id="menu-stats">
                            <i class="fa-solid fa-chart-line"></i> Stats
                        </li>
                        <li onclick="app.switchDashboardTab('menu')" id="menu-menu">
                            <i class="fa-solid fa-utensils"></i> Mon Menu
                        </li>
                        <li onclick="app.switchDashboardTab('settings')" id="menu-settings">
                            <i class="fa-solid fa-gear"></i> Param√®tres
                        </li>
                    </ul>
                    <button onclick="app.navigateTo('home')" class="logout">
                        <i class="fa-solid fa-right-from-bracket"></i>
                    </button>
                </aside>
                <div class="main-content-dark">
                    <header class="dashboard-header-dark">
                        <div>
                            <h2 id="dash-title">Commandes - <span id="pizzeria-name-header"></span></h2>
                            <p id="pizzeria-contact-header"
                                style="color: #888; font-size: 0.9rem; margin-top: 0.25rem;"></p>
                        </div>
                        <div class="status-badge-green">
                            <div class="pulse-dot"></div> Agent Actif
                        </div>
                    </header>

                    <div id="tab-orders" class="dashboard-tab">
                        <div class="stats-row-dark">
                            <div class="stat-card-dark">
                                <h3>Commandes</h3>
                                <div class="value" id="stat-orders-count">0</div>
                            </div>
                            <div class="stat-card-dark">
                                <h3>Chiffre d'affaires</h3>
                                <div class="value" id="stat-revenue">0 ‚Ç¨</div>
                            </div>
                            <div class="stat-card-dark">
                                <h3>Appels manqu√©s</h3>
                                <div class="value danger" id="stat-missed-calls">0</div>
                            </div>
                        </div>

                        <div class="pizzeria-tabs-dark">
                            <button class="pizzeria-tab-btn active" id="tab-btn-new"
                                onclick="app.switchPizzeriaOrdersTab('new')">
                                <i class="fa-solid fa-bell"></i> Nouvelles
                            </button>
                            <button class="pizzeria-tab-btn" id="tab-btn-preparing"
                                onclick="app.switchPizzeriaOrdersTab('preparing')">
                                <i class="fa-solid fa-fire-burner"></i> En pr√©paration
                            </button>
                            <button class="pizzeria-tab-btn" id="tab-btn-ready"
                                onclick="app.switchPizzeriaOrdersTab('ready')">
                                <i class="fa-solid fa-check-circle"></i> Pr√™tes
                            </button>
                            <button class="pizzeria-tab-btn" id="tab-btn-waiting_delivery"
                                onclick="app.switchPizzeriaOrdersTab('waiting_delivery')">
                                <i class="fa-solid fa-clock"></i> Attente livreur
                            </button>
                            <button class="pizzeria-tab-btn" id="tab-btn-delivering"
                                onclick="app.switchPizzeriaOrdersTab('delivering')">
                                <i class="fa-solid fa-motorcycle"></i> En livraison
                            </button>
                            <button class="pizzeria-tab-btn" id="tab-btn-delivered"
                                onclick="app.switchPizzeriaOrdersTab('delivered')">
                                <i class="fa-solid fa-circle-check"></i> Termin√©es
                            </button>
                        </div>

                        <div class="orders-list-dark" id="orders-list">
                            <div class="empty-state">Chargement des commandes...</div>
                        </div>
                    </div>

                    <div id="tab-stats" class="dashboard-tab" style="display: none;">
                        <div class="stats-container">
                            <div class="stat-card-dark big-stat">
                                <div class="icon-circle"><i class="fa-solid fa-phone-volume"></i></div>
                                <h3>Total Appels Re√ßus</h3>
                                <div class="value" id="total-calls-count">0</div>
                                <p class="subtext">Depuis l'activation de l'agent</p>
                            </div>
                        </div>
                    </div>

                    <div id="tab-menu" class="dashboard-tab" style="display: none;">
                        <div class="settings-container">
                            <div class="menu-editor-toolbar">
                                <h3 class="mb-0"><i class="fa-solid fa-book-open"></i> Mon Menu</h3>
                                <button onclick="app.addMenuItemToDB()" class="btn-primary"
                                    style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                                    <i class="fa-solid fa-plus"></i> Ajouter un produit
                                </button>
                            </div>

                            <div class="menu-categories-tabs">
                                <button class="category-tab active"
                                    onclick="app.filterMenuCategory('all')">Tout</button>
                                <button class="category-tab" onclick="app.filterMenuCategory('pizza')">Pizzas</button>
                                <button class="category-tab" onclick="app.filterMenuCategory('entree')">Entr√©es</button>
                                <button class="category-tab"
                                    onclick="app.filterMenuCategory('boisson')">Boissons</button>
                                <button class="category-tab"
                                    onclick="app.filterMenuCategory('dessert')">Desserts</button>
                                <button class="category-tab"
                                    onclick="app.filterMenuCategory('accompagnement')">Accompagnements</button>
                            </div>

                            <div class="menu-items-list" id="menu-management-list">
                                <!-- Loaded dynamically -->
                                <div class="empty-state">Chargement du menu...</div>
                            </div>
                        </div>
                    </div>

                    <div id="tab-settings" class="dashboard-tab" style="display: none;">
                        <div class="settings-container">
                            <h3 class="mb-4"><i class="fa-solid fa-users"></i> Gestion des Livreurs</h3>

                            <div class="settings-card dark-card mb-4">
                                <h4>Inviter un livreur</h4>
                                <p class="text-muted text-sm mb-3">Cr√©ez un lien d'acc√®s unique pour vos livreurs.</p>
                                <form onsubmit="app.inviteDriver(event)" class="driver-invite-form">
                                    <div class="input-group">
                                        <input type="text" id="driver-name-input" placeholder="Pr√©nom du livreur"
                                            required class="dark-input">
                                    </div>
                                    <div class="input-group">
                                        <input type="tel" id="driver-phone-input" placeholder="T√©l√©phone (optionnel)"
                                            class="dark-input">
                                    </div>
                                    <button type="submit" class="btn-primary mt-2">
                                        <i class="fa-solid fa-plus"></i> Cr√©er l'acc√®s
                                    </button>
                                </form>
                            </div>

                            <div class="settings-card dark-card">
                                <h4>Livreurs actifs</h4>
                                <div id="drivers-list" class="drivers-list-container">
                                    <div class="empty-state text-sm">Chargement...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 8. Dashboard Livreur -->
        <section id="driver-dashboard" class="view">
            <div class="driver-layout-dark">
                <header class="driver-header-dark">
                    <div class="driver-info">
                        <div class="driver-avatar-dark">
                            <i class="fa-solid fa-motorcycle"></i>
                        </div>
                        <div>
                            <h3 id="driver-name" style="color: white; margin: 0;">Livreur</h3>
                            <span class="status-badge-green">
                                <i class="fa-solid fa-circle"></i> En ligne
                            </span>
                        </div>
                    </div>
                    <button onclick="app.logoutDriver()" class="btn-logout-dark">
                        <i class="fa-solid fa-right-from-bracket"></i> D√©connexion
                    </button>
                </header>

                <div class="driver-tabs-dark">
                    <button class="driver-tab-btn active" id="tab-btn-available"
                        onclick="app.switchDriverTab('available')">
                        <i class="fa-solid fa-clock"></i> Disponibles
                    </button>
                    <button class="driver-tab-btn" id="tab-btn-active" onclick="app.switchDriverTab('active')">
                        <i class="fa-solid fa-route"></i> En cours
                    </button>
                </div>

                <div class="driver-content-dark">
                    <div id="driver-orders-list" class="driver-orders-list-dark">
                        <!-- Populated by JS -->
                        <div class="empty-state-dark">
                            <i class="fa-solid fa-box-open"
                                style="font-size: 3rem; color: #444; margin-bottom: 1rem;"></i>
                            <p>Chargement...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 9. Suivi de Commande (Client) -->
        <section id="tracking" class="view">
            <div class="tracking-premium-wrapper">
                <div class="tracking-premium-card">

                    <!-- Header -->
                    <div class="premium-header">
                        <div class="premium-logo">
                            <i class="fa-solid fa-pizza-slice"></i>
                        </div>
                        <h2 class="premium-title">Suivi Live</h2>
                        <div class="order-badge" id="tracking-order-id">#Loading</div>
                    </div>

                    <!-- Main Status Display -->
                    <div class="premium-status-display">
                        <div class="status-ring-container">
                            <div class="status-ring" id="status-ring"></div>
                            <div class="status-icon-center" id="tracking-icon">
                                <i class="fa-solid fa-circle-notch fa-spin"></i>
                            </div>
                        </div>
                        <h1 class="status-title" id="tracking-status-text">Chargement...</h1>
                        <p class="status-subtitle" id="tracking-status-desc">Connexion au four...</p>
                    </div>

                    <!-- Timeline -->
                    <div class="premium-timeline">
                        <div class="timeline-step" id="step-new">
                            <div class="step-indicator">
                                <i class="fa-solid fa-check"></i>
                            </div>
                            <div class="step-content">
                                <h4>Confirm√©e</h4>
                                <p>Commande re√ßue</p>
                            </div>
                        </div>
                        <div class="timeline-step" id="step-preparing">
                            <div class="step-indicator">
                                <i class="fa-solid fa-fire-burner"></i>
                            </div>
                            <div class="step-content">
                                <h4>En pr√©paration</h4>
                                <p>C'est chaud !</p>
                            </div>
                        </div>
                        <div class="timeline-step" id="step-delivering">
                            <div class="step-indicator">
                                <i class="fa-solid fa-motorcycle"></i>
                            </div>
                            <div class="step-content">
                                <h4>En route</h4>
                                <p>Livreur parti</p>
                            </div>
                        </div>
                        <div class="timeline-step" id="step-delivered">
                            <div class="step-indicator">
                                <i class="fa-solid fa-house"></i>
                            </div>
                            <div class="step-content">
                                <h4>Livr√©e</h4>
                                <p>Bon app√©tit !</p>
                            </div>
                        </div>
                    </div>

                    <!-- Order Summary Toggle -->
                    <div class="order-summary-accordion">
                        <button class="summary-toggle" onclick="this.parentElement.classList.toggle('active')">
                            <span>Voir le d√©tail</span>
                            <i class="fa-solid fa-chevron-down"></i>
                        </button>
                        <div class="summary-content">
                            <div id="tracking-items" class="premium-items-list">
                                <!-- Items injected here -->
                            </div>
                            <div class="premium-total">
                                <span>Total</span>
                                <span id="tracking-total">... ‚Ç¨</span>
                            </div>
                        </div>
                    </div>

                    <!-- Error View -->
                    <div id="tracking-error" style="display: none;">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                        <h3>Oups !</h3>
                        <p>Impossible de trouver cette commande.</p>
                        <button onclick="app.navigateTo('home')" class="btn-primary">Retour</button>
                    </div>

                    <!-- Content View Wrapper (for easy toggling) -->
                    <div id="tracking-content" style="display: contents;"></div>

                </div>
            </div>
        </section>

    </main>




    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app.js"></script>
</body>

</html>
```